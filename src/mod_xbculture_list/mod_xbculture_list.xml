<?xml version="1.0" encoding="utf-8"?>
<extension type="module" version="3.3" method="upgrade" client="site">
	<name>xbCulture-List</name>
	<author>Roger Creagh-Osborne</author>
	<creationDate>28 April 2021</creationDate>
	<copyright>Copyright (C) 2021 Roger Creagh-Osborne. All rights reserved.</copyright>
	<license>http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL</license>
	<authorEmail>roger@crosborne.co.uk</authorEmail>
	<authorUrl>www.crosborne.co.uk</authorUrl>
	<version>0.1.0</version>
	<description>Show recent items from xbCulture components</description>
	<files>
		<filename>mod_xbculture_list.xml</filename>
		<filename module="mod_xbculture_list">mod_xbculture_list.php</filename>
		<filename>index.html</filename>
		<filename>helper.php</filename>
		<folder>tmpl</folder>
	</files>
	<media destination="mod_xbculture_list" folder="media">
        <filename>index.html</filename>
        <folder>css</folder>
    </media>
    <config>
        <fields name="params">
        	<fieldset name="basic">
 <!-- 
 pretext, posttext - text
 select source component books|films - radio
 itemcnt - number : number of items to display, 0 = all
 filter cat|tag|rating|person - checkboxes/radio
 	catfilt - list
 		incsub - radio y/n
 	tagfilt - list
 		multitag - radio all/any
 	ratfilt - numeric
 	perfilt - list
	 	perfrole - list
 		perbrole - list

 display title|image - radio
 order title|date/rating - radio
 
  -->
	 			<field name="itemcnt" type="number" default="5" 
	 				label="Items to list" description="How many items from selected component to show in the module" 
	 				min="0" max="100" size="2" />
				<field name="pretext" type="textarea" default="" 
					label="Text before" description="Optional text to display above times" 
					rows="5" cols="35" />
				<field name="comp" type="radio" 
					default="" required="true"
					label="Component" description="select which xbCulture component to get items from" >
					<option value="xbbooks">xbBooks</option>
					<option value="xbfilms">xbFilms</option>
				</field>
				<field name="filter" type="radio" 
					label="Filter by" description="filter type to select items" 
					default="" >
					<option value="cat">Category</option>
					<option value="tag">Tags</option>
					<option value="rating">Rating</option>
					<option value="person">Person</option>
				</field>
				<field name="catfilt" type="category"
					label="Category" Description="Category to filter by"
				 	extension="com_xbbooks"
				 	showon="comp:xbbooks[AND]filter:cat"
					>
					<option value="">JOPTION_SELECT_CATEGORY</option>
				</field>
				<field name="subcats" type="radio"
					default=""
					label="Include sub-Cats" description="Include items in all subcategories of selected category"
		  			class="btn-group btn-small"
		  			showon="catfilt!:"
					>
					<option value="0">JNO</option>
					<option value="1">JYES</option>
				</field>
				<field name="tagfilt" type="tag"
					label="Tag(s)"
					description="Select tags to filter by, multiple tags can select either items with all or anyy of the tags"
					multiple="true"
					class="multipleTags"
					mode="ajax"
				/>
				<field name="taglogic" type="radio"
					default="0"
					label="Multi Tag Logic"
					description="If multiple tags are selected can require all, or any, or none of the selected tags to be present"
		  			class="btn-group btn-small"
					>
					<option value="1">All</option>
					<option value="0">Any</option>
					<option value="2">None</option>
				</field>
	 			<field name="ratfilt" type="number" default="3" 
	 				label="Rating" description="Only show items with selected rating. If more items are returned than your max item count above then a random selection will be shown which should refresh every time a page is loaded/reloaded" 
	 				min="0" max="7" size="2"
	 				showon="filter:rating" />
				<field
					name="perfilt" type="people"
					label="Person" description="Show only items linked to a particular person"
					showon="filter:person"
					>		
					<option value="">Start to type first or last name</option>
					<option value="any">Any person with role</option>
				</field>
				<field name="brole" type="list"
					default=""
					label="Role in Book" description="Filter by specific role"
		  			class="btn-group btn-small radiotop"
					showon="comp:xbbooks[AND]filter:person[AND]perfilt!:"			
					>
		  			<option value="any">Any</option>
					<option value="aut">Author</option>
					<option value="ed">Editor</option>
					<option value="men">Mentioned</option>
					<option value="other">Other</option>
				</field>	
				<field name="frole" type="list"
					default=""
					label="Role in Film" description="Filter by specific role"
		  			class="btn-group btn-small radiotop"
					showon="comp:xbfilms[AND]filter:person[AND]perfilt!:"			
					>
		  			<option value="any">Any</option>
					<option value="dir">Director</option>
					<option value="crew">Editor</option>
					<option value="cast">Mentioned</option>
					<option value="app">Other</option>
				</field>	
				<field name="display" type="radio"
					default=""
					label="Display type" description="Image will automatically only select items with an image, mouseover image will be title and click image will link to item page"
		  			class="btn-group btn-small"
					>
					<option value="0">Title</option>
					<option value="1">Image</option>
				</field>
	 			<field name="imgrow" type="number" default="3" 
	 				label="Images per row" description="How many images to show in each row in the module width" 
	 				min="1" max="5" size="2"
	 				showon="display:1" />
				<field name="sortby" type="radio"
					default=""
					label="Sort list" description="Order to present the list in"
		  			class="btn-group btn-small"
					>
					<option value="0">Title</option>
					<option value="1">Date</option>
					<option value="2">Rating</option>
				</field>
				<field name="sortdir" type="radio"
					default=""
					label="Sort direction" description="Ascending means A or earliest date or lowest rating will be at top. Descending is the opposite. If items have the same date or rating then title will be used (ascending) as a secondary sort."
		  			class="btn-group btn-small"
					>
					<option value="ASC">Ascending</option>
					<option value="DESC">Descending</option>
				</field>
					
				<field name="posttext" type="textarea" 				
					label="Text after" description="Text to display below times"  
					default="" rows="5" cols="35" />				    	
			</fieldset>
		</fields>
    </config>
    <updateservers>
		<server type="extension" priority="1" name="xbCulture_Recent Updates">
			https://www.crosborne.uk/jupdates/mod_xbculture_recent_updater.xml
		</server>
	</updateservers>
</extension>
		
